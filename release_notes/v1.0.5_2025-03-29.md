# AI Coach Release Notes

## Version 1.0.5 (March 29, 2025 - 19:30 UTC)

### Bug Fixes
- **Fixed conversation logs missing final summary**: Resolved an issue where the final summary and wrap-up exchanges weren't properly saved in conversation logs. Conversations now correctly capture all exchanges including wrap-up confirmation and final summaries.

- **Optimized LLM calls in wrap-up detection**: Fixed a performance issue where `should_wrap_up()` was being called twice unnecessarily, causing duplicate LLM API calls. Implemented a 30-second caching mechanism to avoid redundant API requests.

### Implementation Details
- Added final summary to conversation memory before saving history
- Updated the `generate_closing_summary` method to properly log the final exchange
- Improved the `save_conversation_history` function with better formatting
- Refactored wrap-up logic in main.py to store the result of `should_wrap_up()` rather than calling it twice
- Added caching to the `should_wrap_up()` function to prevent duplicate LLM calls within a 30-second window

### Benefits
- More complete conversation logs for reference and analysis
- Reduced API costs and improved response time through elimination of duplicate LLM calls
- Better user experience with more consistent conversation handling

### Testing
- Comprehensive tests developed to verify:
  - Acceptance of wrap-up suggestions
  - Rejection of wrap-up suggestions
  - Caching mechanism functionality
- All tests passing âœ… 